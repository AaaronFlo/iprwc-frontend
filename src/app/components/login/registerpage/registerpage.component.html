<app-header></app-header>

<div class="register-container">
    <h2>Register</h2>

    <div *ngIf="successMessage" class="success-message">
        {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
        <div class="form-group">
            <label>Email:</label>
            <input 
                formControlName="email" 
                type="email" 
                ngModel 
                name="email" 
                required 
                email>
            <div class="error-text">
                <p *ngIf="registerForm.get('email')?.errors?.['required'] && registerForm.get('email')?.dirty">Email is required</p>
                <p *ngIf="registerForm.get('email')?.errors?.['email'] && registerForm.get('email')?.touched">Please enter a valid email address</p>
            </div>
        </div>

        <div class="form-group">
            <label>Password:</label>
            <input 
                formControlName="password" 
                type="password" 
                ngModel 
                name="password" 
                required 
                minlength="6">
            <div class="error-text">
                <p *ngIf="registerForm.get('password')?.errors?.['required'] && registerForm.get('password')?.dirty">Password is required</p>
                <p *ngIf="registerForm.get('password')?.errors?.['minlength'] && registerForm.get('password')?.touched">Password must be at least 6 characters long</p>
            </div>
        </div>

        <div class="form-group">
            <label>Role:</label>
            <select formControlName="role">
                <option value="USER">User</option>
                <option value="ADMIN">Admin</option>
            </select>
        </div>

        <button type="submit" [disabled]="registerForm.invalid">Register</button>
    </form>
    <div class="login-link">
        <p>Already have an account? <a routerLink="/login">Login here</a></p>
    </div>
</div>